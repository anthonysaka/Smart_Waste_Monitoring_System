{"remainingRequest":"/home/anthonysaka/Desktop/gomibako/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/anthonysaka/Desktop/gomibako/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/anthonysaka/Desktop/gomibako/src/views/Home.vue","mtime":1605240324956},{"path":"/home/anthonysaka/Desktop/gomibako/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/anthonysaka/Desktop/gomibako/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/anthonysaka/Desktop/gomibako/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/anthonysaka/Desktop/gomibako/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBtYXBib3hnbCBmcm9tICJtYXBib3gtZ2wiOwppbXBvcnQgU3dhbCBmcm9tICdzd2VldGFsZXJ0Mic7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhvbWUiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhY2Nlc3NUb2tlbjogJ3BrLmV5SjFJam9pWVc1MGFHOXVlWE5oYTJFaUxDSmhJam9pWTJ0bmJqQnJaV1I0TUdrd05ESjBjR2N6YjJVeE5URTRZaUo5LldzRW1oaXJlakZWQXB1Tno5SXZ0bHcnLAogICAgICB1c2VybG9nZ2VkOiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyZGF0YScpKSwKICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgbWFwYm94Z2wuYWNjZXNzVG9rZW4gPSB0aGlzLmFjY2Vzc1Rva2VuOwogICAgdmFyIG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoewogICAgICBjb250YWluZXI6ICJtYXAiLAogICAgICBzdHlsZTogIm1hcGJveDovL3N0eWxlcy9tYXBib3gvc3RyZWV0cy12MTEiLAogICAgICBjZW50ZXI6IFstNzAuNzAzNjkyLCAxOS40MTU4ODhdLAogICAgICB6b29tOiAxMiwKICAgIH0pOwoKICAgIHZhciBnZW9qc29uID0geyB0eXBlOiAnRmVhdHVyZUNvbGxlY3Rpb24nLAogICAgICAgICAgICAgICAgICAgIGZlYXR1cmVzOiBbewogICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ0ZlYXR1cmUnLAogICAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnk6IHsKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1BvaW50JywKICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRpbmF0ZXM6IFstNzAuNzAyODU5LDE5LjQxNjUzMV0KICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnTWFwYm94JywKICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdXYXNoaW5ndG9uLCBELkMuJwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ0ZlYXR1cmUnLAogICAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnk6IHsKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1BvaW50JywKICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRpbmF0ZXM6IFstNzAuNzAwOTM5LDE5LjQxOTMxNF0KICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnTWFwYm94JywKICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdTYW4gRnJhbmNpc2NvLCBDYWxpZm9ybmlhJwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgICAgICAgIH07CiAgICAvLyBhZGQgbWFya2VycyB0byBtYXAKICAgIGdlb2pzb24uZmVhdHVyZXMuZm9yRWFjaChmdW5jdGlvbihtYXJrZXIpIHsKCiAgICAgIC8vIGNyZWF0ZSBhIEhUTUwgZWxlbWVudCBmb3IgZWFjaCBmZWF0dXJlCiAgICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICBlbC5jbGFzc05hbWUgPSAnbWFya2VyJzsKCiAgICAgIC8vIG1ha2UgYSBtYXJrZXIgZm9yIGVhY2ggZmVhdHVyZSBhbmQgYWRkIHRvIHRoZSBtYXAKICAgICAgbmV3IG1hcGJveGdsLk1hcmtlcihlbCkKICAgICAgICAuc2V0TG5nTGF0KG1hcmtlci5nZW9tZXRyeS5jb29yZGluYXRlcykKICAgICAgICAgIC5zZXRQb3B1cCggbmV3IG1hcGJveGdsLlBvcHVwKHsgb2Zmc2V0OiAyNX0pIC8vIGFkZCBwb3B1cHMKICAgICAgICAuc2V0SFRNTCgnPGgzPicgKyBtYXJrZXIucHJvcGVydGllcy50aXRsZSArICc8L2gzPjxwPicgKyBtYXJrZXIucHJvcGVydGllcy5kZXNjcmlwdGlvbiArICc8L3A+JykpCiAgICAgICAgLmFkZFRvKG1hcCk7CiAgICB9KTsKICAgIAoKCgoKCiAgICBpZiAodGhpcy51c2VybG9nZ2VkLmRlZmF1bHRfY3JlZGVudGlhbHMgPT0gdHJ1ZSkgewogICAgICBTd2FsLm1peGluKHsKICAgICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ05leHQgJnJhcnI7JywKICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc1N0ZXBzOiBbJzEnLCAnMicsICczJywnNCddLAogICAgICAgICAgICAgICAgICAgIGFsbG93T3V0c2lkZUNsaWNrOiBmYWxzZQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICB9KS5xdWV1ZShbCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdIZXksIGhlbW9zIGRldGVjdGFkbyBxdWUgYXVuIG5vIGhhcyBjYW1iaWFkbyB0dXMgY3JlZGVuY2lhbGVzIHBvciBkZWZlY3RvLCBwb3IgZmF2b3IgY29udGludWFyIHBhcmEgY2FtYmlhcmxhcyAoRXMgbXV5IHJlY29tZW5kYWRvKS4nLCAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6ICd0ZXh0JywKICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnQ2FtYmlhciBlbCBub21icmUgZGUgdXN1YXJpbyBwb3IgZGVmZWN0bycsCiAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnUG9yIGZhdm9yIGludHJvZHVjaXIgdW4gbnVldm8gbm9tYnJlIGRlIHVzdWFyaW8nLAogICAgICAgICAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICBpbnB1dFZhbGlkYXRvcjogKHZhbHVlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnWW91IG5lZWQgdG8gd3JpdGUgc29tZXRoaW5nIScKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiAncGFzc3dvcmQnLAogICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdDYW1iaWFyIGNvbnRyYXNlbmEgcG9yIGRlZmVjdG8nLAogICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ1BvciBmYXZvciBpbnRyb2R1Y2lyIHVuYSBudWV2YSBjb250cmFzZW5hJywKICAgICAgICAgICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgaW5wdXRWYWxpZGF0b3I6ICh2YWx1ZSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ1lvdSBuZWVkIHRvIHdyaXRlIHNvbWV0aGluZyEnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgXSkudGhlbihhc3luYyhyZXN1bHQpID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBheGlvcy5wdXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9nb21pYmFrby9pbnRlcm5hbGFwaS8xLjAvY2hhbmdlY3JlZGVudGlhbHMnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaWQiOnRoaXMudXNlcmxvZ2dlZC5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJuZXd1c2VybmFtZSI6cmVzdWx0LnZhbHVlWzFdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm5ld3Bhc3N3b3JkIjpyZXN1bHQudmFsdWVbMl0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgCiAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VybmFtZSA9IHJlc3VsdC52YWx1ZVsxXSAKICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhc3N3b3JkID0gcmVzdWx0LnZhbHVlWzJdICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzMSA9IGF3YWl0IGF4aW9zLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9nb21pYmFrby9pbnRlcm5hbGFwaS8xLjAvbG9naW4nLCB7dXNlcm5hbWUscGFzc3dvcmR9KQogICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJkYXRhJywgSlNPTi5zdHJpbmdpZnkocmVzMS5kYXRhLnVzZXJbMF0pKQogICAgICAgICAgICAgICAgICAgICAgdGhpcy51c2VybG9nZ2VkID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcmRhdGEnKSksCiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOyAgICAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pCiAgICB9CgoKICB9Cn07Cg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAOA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"home\">\n\n    <b-row class=\"mb-4\">\n\n      <b-col cols=\"12\" md=\"3\">\n\n        <b-row>\n          <b-col cols=\"12\">\n            <div class=\"card  shadow\" style=\"height: 6rem; width: 80%\">\n                <div class=\"card-body\">\n                  <div class=\"row no-gutters align-items-center\">\n                    <div class=\"col mr-1\">\n                      <div class=\"d-flex flex-column\">\n                        <div class=\"text-xs font-weight-bold text-success text-uppercase mb-1\">Activos</div>\n                      </div>\n                      <div class=\"d-flex flex-column\">\n                        <div class=\"h5 mb-0 font-weight-bold text-gray-800\">DATO</div>\n                      </div>\n                    </div>\n                    <div class=\"col-auto\">\n                      <i class=\"fas fa-trash fa-2x text-success\"></i>\n                    </div>\n                  </div>\n                </div>\n              </div>\n          </b-col>\n        </b-row>\n\n        <b-row>\n          <b-col cols=\"12\">\n            <div class=\"card  shadow\" style=\"height: 6rem; width: 80%\">\n                <div class=\"card-body\">\n                  <div class=\"row no-gutters align-items-center\">\n                    <div class=\"col mr-1\">\n                      <div class=\"d-flex flex-column\">\n                        <div class=\"text-xs font-weight-bold text-success text-uppercase mb-1\">Activos</div>\n                      </div>\n                      <div class=\"d-flex flex-column\">\n                        <div class=\"h5 mb-0 font-weight-bold text-gray-800\">DATO</div>\n                      </div>\n                    </div>\n                    <div class=\"col-auto\">\n                      <i class=\"fas fa-trash fa-2x text-success\"></i>\n                    </div>\n                  </div>\n                </div>\n              </div>\n          </b-col>\n        </b-row>\n\n        <b-row>\n          <b-col cols=\"12\">\n            <div class=\"card  shadow\" style=\"height: 6rem; width: 80%\">\n                <div class=\"card-body\">\n                  <div class=\"row no-gutters align-items-center\">\n                    <div class=\"col mr-1\">\n                      <div class=\"d-flex flex-column\">\n                        <div class=\"text-xs font-weight-bold text-success text-uppercase mb-1\">Activos</div>\n                      </div>\n                      <div class=\"d-flex flex-column\">\n                        <div class=\"h5 mb-0 font-weight-bold text-gray-800\">DATO</div>\n                      </div>\n                    </div>\n                    <div class=\"col-auto\">\n                      <i class=\"fas fa-trash fa-2x text-success\"></i>\n                    </div>\n                  </div>\n                </div>\n              </div>\n          </b-col>\n        </b-row>\n\n      </b-col>\n      \n\n      <b-col cols=\"12\" md=\"9\">\n        <div class=\"card shadow\">\n          <div class=\"card-body\">\n            <div id=\"map\"></div>\n          </div>\n        </div>\n      </b-col>\n\n\n    </b-row>\n    <!--     ****************  -->\n\n\n\n  </div>\n</template>\n\n<script>\n  import mapboxgl from \"mapbox-gl\";\n  import Swal from 'sweetalert2';\n  import axios from 'axios';\n\n  export default {\n    name: \"Home\",\n    data() {\n      return {\n        accessToken: 'pk.eyJ1IjoiYW50aG9ueXNha2EiLCJhIjoiY2tnbjBrZWR4MGkwNDJ0cGczb2UxNTE4YiJ9.WsEmhirejFVApuNz9Ivtlw',\n        userlogged: JSON.parse(localStorage.getItem('userdata')),\n      };\n    },\n    mounted() {\n      mapboxgl.accessToken = this.accessToken;\n      var map = new mapboxgl.Map({\n        container: \"map\",\n        style: \"mapbox://styles/mapbox/streets-v11\",\n        center: [-70.703692, 19.415888],\n        zoom: 12,\n      });\n\n      var geojson = { type: 'FeatureCollection',\n                      features: [{\n                        type: 'Feature',\n                        geometry: {\n                          type: 'Point',\n                          coordinates: [-70.702859,19.416531]\n                        },\n                        properties: {\n                          title: 'Mapbox',\n                          description: 'Washington, D.C.'\n                        }\n                      },\n                      {\n                        type: 'Feature',\n                        geometry: {\n                          type: 'Point',\n                          coordinates: [-70.700939,19.419314]\n                        },\n                        properties: {\n                          title: 'Mapbox',\n                          description: 'San Francisco, California'\n                        }\n                      }]\n                    };\n      // add markers to map\n      geojson.features.forEach(function(marker) {\n\n        // create a HTML element for each feature\n        var el = document.createElement('div');\n        el.className = 'marker';\n\n        // make a marker for each feature and add to the map\n        new mapboxgl.Marker(el)\n          .setLngLat(marker.geometry.coordinates)\n            .setPopup( new mapboxgl.Popup({ offset: 25}) // add popups\n          .setHTML('<h3>' + marker.properties.title + '</h3><p>' + marker.properties.description + '</p>'))\n          .addTo(map);\n      });\n      \n\n\n\n\n\n      if (this.userlogged.default_credentials == true) {\n        Swal.mixin({\n                      confirmButtonText: 'Next &rarr;',\n                      progressSteps: ['1', '2', '3','4'],\n                      allowOutsideClick: false\n                      \n                    }).queue([\n                      {\n                        title: 'Hey, hemos detectado que aun no has cambiado tus credenciales por defecto, por favor continuar para cambiarlas (Es muy recomendado).',           \n                        showCancelButton: true,\n                      },\n                      {\n                        input: 'text',\n                        title: 'Cambiar el nombre de usuario por defecto',\n                        text: 'Por favor introducir un nuevo nombre de usuario',\n                        showCancelButton: false,\n                        inputValidator: (value) => {\n                                    if (!value) {\n                                      return 'You need to write something!'\n                                    }\n                        }\n                      },\n                      {\n                        input: 'password',\n                        title: 'Cambiar contrasena por defecto',\n                        text: 'Por favor introducir una nueva contrasena',\n                        showCancelButton: false,\n                        inputValidator: (value) => {\n                                    if (!value) {\n                                      return 'You need to write something!'\n                                    }\n                        }\n                      },\n                    ]).then(async(result) => {\n                      if (result.value) {\n                        const res = await axios.put('http://localhost:5000/gomibako/internalapi/1.0/changecredentials',\n                                            {\n                                                \"id\":this.userlogged.id,\n                                                \"newusername\":result.value[1],\n                                                \"newpassword\":result.value[2]\n                                            }) \n                        const username = result.value[1] \n                        const password = result.value[2]       \n                        const res1 = await axios.post('http://localhost:5000/gomibako/internalapi/1.0/login', {username,password})\n                        localStorage.setItem('userdata', JSON.stringify(res1.data.user[0]))\n                        this.userlogged = JSON.parse(localStorage.getItem('userdata')),\n                        console.log(res);    \n                      }\n                    })\n      }\n\n\n    }\n  };\n</script>\n\n<style>\n  @import '../assets/styles/main.css';\n</style>\n"]}]}