{"remainingRequest":"/home/anthonysaka/Desktop/Smart_Waste_Monitoring_System/WEB_DEVELOPMENT/Frontend/gomibako/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/anthonysaka/Desktop/Smart_Waste_Monitoring_System/WEB_DEVELOPMENT/Frontend/gomibako/src/views/Dashboard.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/anthonysaka/Desktop/Smart_Waste_Monitoring_System/WEB_DEVELOPMENT/Frontend/gomibako/src/views/Dashboard.vue","mtime":1605241208960},{"path":"/home/anthonysaka/Desktop/Smart_Waste_Monitoring_System/WEB_DEVELOPMENT/Frontend/gomibako/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/anthonysaka/Desktop/Smart_Waste_Monitoring_System/WEB_DEVELOPMENT/Frontend/gomibako/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/anthonysaka/Desktop/Smart_Waste_Monitoring_System/WEB_DEVELOPMENT/Frontend/gomibako/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/anthonysaka/Desktop/Smart_Waste_Monitoring_System/WEB_DEVELOPMENT/Frontend/gomibako/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/anthonysaka/Desktop/Smart_Waste_Monitoring_System/WEB_DEVELOPMENT/Frontend/gomibako/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpAaW1wb3J0ICcuLi9hc3NldHMvc3R5bGVzL21haW4uY3NzJzsK"},{"version":3,"sources":["Dashboard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmUA","file":"Dashboard.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"Dashboard\">\n        <b-container fluid>\n            <b-row>\n                <b-col cols=\"12\" md=\"4\">\n                    <div class=\"card shadow\">\n                        <div class=\"card-body\">\n                            <div id=\"map\"></div>\n                        </div>\n                    </div>\n            \n                </b-col>\n\n                <b-col cols=\"12\" md=\"8\">\n                    <div class=\"card mb-4\">\n                        <b-form-select\n                            v-model=\"selected\"\n                            :options=\"listAvailableBins\"\n                            class=\"mb-0\"\n                            value-field=\"item\"\n                            text-field=\"name\"\n                            disabled-field=\"notEnabled\"\n                            ></b-form-select>    \n                    </div>\n                    <div class=\"card w-200\">\n                        <div class=\"d-flex px-2 pb-4\">\n                            <h5 class=\"h5 mr-auto ml-2 mt-2 mb-n1 text-gray-800\" style=\"color: RGB(79, 79, 79) !important;\">Live Data of:<strong>{{titlebin}}</strong></h5>\n                            <hr>\n                            <h5 class=\"h5 mt-2 mb-n1 mr-2  text-gray-800\" style=\"color: RGB(79, 79, 79) !important;\">Last update at:<strong>{{updatetime}}</strong></h5>\n                            <hr>\n                        </div>\n                       \n                        <div class=\"d-flex flex-column mb-4\">\n                            <b-row>\n                                <b-col cols=\"12\" md=\"3\">\n                                    <div class=\"minicard shadow h-10 py-1 ml-2 mr-2\">\n                                        <div class=\"card-body\" style=\"height: 10vh;\">\n                                            <div class=\"d-flex flex-column\">\n                                                <div\n                                                    class=\"text-xs font-weight-bold text-center mt-n3 text-primary text-uppercase mb-1\">\n                                                    <strong>Temperatura (Â°C)</strong></div>\n                                            </div>\n                                            <b-row>\n                                                <b-col cols=\"6\">\n                                                    <div class=\"d-flex flex-column text-center\">\n                                                        <i class=\"fas fa-temperature-high fa-2x\"></i>\n                                                    </div>\n                                                </b-col>\n                                                <b-col cols=\"6\">\n                                                    <div\n                                                        class=\"h5 mb-0 text-center mt-2 px-0 font-weight-bold text-gray-800\">\n                                                        <b-badge  variant=\"primary\">{{tempValue}}</b-badge></div>\n                                                </b-col>\n\n                                            </b-row>\n                                        </div>\n                                    </div>\n                                </b-col>\n\n                                <b-col cols=\"12\" md=\"3\">\n                                    <div class=\"minicard shadow h-10 py-1 ml-2 mr-2\">\n                                        <div class=\"card-body\" style=\"height: 10vh;\">\n                                            <div class=\"d-flex flex-column\">\n                                                <div\n                                                    class=\"text-xs font-weight-bold text-center mt-n3 text-primary text-uppercase mb-1\">\n                                                    <strong>Humedad (%)</strong></div>\n                                            </div>\n                                            <b-row>\n                                                <b-col cols=\"6\">\n                                                    <div class=\"d-flex flex-column text-center\">\n                                                        <i class=\"fas fa-tint fa-2x\"></i>\n                                                    </div>\n                                                </b-col>\n                                                <b-col cols=\"6\">\n                                                    <div class=\"h5 mb-0 text-center mt-2 font-weight-bold text-gray-800\">\n                                                         <b-badge pill variant=\"primary\">{{humValue}}</b-badge></div>\n                                                </b-col>\n\n                                            </b-row>\n                                        </div>\n                                    </div>\n                                </b-col>\n\n                                <b-col cols=\"12\" md=\"3\">\n                                    <div class=\"minicard shadow h-10 py-1 ml-2 mr-2\">\n                                        <div class=\"card-body\" style=\"height: 10vh;\">\n                                            <div class=\"d-flex flex-column\">\n                                                <div\n                                                    class=\"text-xs font-weight-bold text-center mt-n3 text-primary text-uppercase mb-1\">\n                                                    Bateria (%)</div>\n                                            </div>\n                                            <b-row>\n                                                <b-col cols=\"6\">\n                                                    <div class=\"d-flex flex-column text-center\">\n                                                        <i class=\"fas fa-battery-three-quarters fa-2x\"></i>\n                                                    </div>\n                                                </b-col>\n                                                <b-col cols=\"6\">\n                                                    <div class=\"h5 mb-0 text-center mt-2 font-weight-bold text-gray-800\">\n                                                        N/A</div>\n                                                </b-col>\n\n                                            </b-row>\n                                        </div>\n                                    </div>\n                                </b-col>\n\n                                <b-col cols=\"12\" md=\"3\">\n                                    <div class=\"minicard shadow h-10 py-1 ml-2 mr-2\">\n                                        <div class=\"card-body\" style=\"height: 10vh;\">\n                                            <div class=\"d-flex flex-column\">\n                                                <div\n                                                    class=\"text-xs font-weight-bold text-center mt-n3 text-primary text-uppercase mb-1\">\n                                                    ESTADO</div>\n                                            </div>\n                                            <b-row>\n                                                <b-col cols=\"6\">\n                                                    <div class=\"d-flex flex-column text-center\">\n                                                        <i class=\"fas fa-tint fa-2x\"></i>\n                                                    </div>\n                                                </b-col>\n                                                <b-col cols=\"6\">\n                                                    <div class=\"h5 mb-0 text-center mt-2 font-weight-bold text-gray-800\">\n                                                        N/A</div>\n                                                </b-col>\n\n                                            </b-row>\n                                        </div>\n                                    </div>\n                                </b-col>\n                            </b-row>\n                        </div>\n\n                        <div class=\"d-flex flex-column mb-4\" >\n                            <b-row>\n                                <b-col cols=\"12\" md=\"4\">\n                                    <div class=\"minicard shadow mb-2 mt-2 ml-2 mr-0\">\n                                        <!-- Card Header -->\n                                        <div class=\"card-header py-3\">\n                                            <h6 class=\"m-0 font-weight-bold text-primary\"><strong>Plastico - Nivel de\n                                                Llenado:  </strong>  <b-badge pill variant=\"primary\">{{ levelplastic }} %</b-badge>\n                                            </h6>\n                                        </div>\n                                        <!-- Card Body -->\n                                        <div class=\"card-body\">\n                                            <div class=\"chart-pie pt-4\">\n                                                <levelChart :width=\"250\" :height=\"250\" v-if=\"loaded\"\n                                                            :chart-data=\"datacollection[0]\">\n                                                </levelChart>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </b-col>\n\n                                <b-col cols=\"12\" md=\"4\">\n                                    <div class=\"minicard shadow mb-2 mt-2 ml-0 mr-0\">\n                                        <!-- Card Header -->\n                                        <div class=\"card-header py-3\">\n                                            <h6 class=\"m-0 font-weight-bold text-primary\">Metal - Nivel de\n                                                Llenado:  <b-badge pill variant=\"primary\">{{ levelmetal }} %</b-badge>\n                                            </h6>\n                                        </div>\n                                        <!-- Card Body -->\n                                        <div class=\"card-body\">\n                                            <div class=\"chart-pie pt-4\">\n                                                <levelChart :width=\"250\" :height=\"250\" v-if=\"loaded\"\n                                                            :chart-data=\"datacollection[0]\">\n                                                </levelChart>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </b-col>\n\n                                <b-col cols=\"12\" md=\"4\">\n                                    <div class=\"minicard shadow mb-2 mt-2 ml-0 mr-2\">\n                                        <!-- Card Header -->\n                                        <div class=\"card-header py-3\">\n                                            <h6 class=\"m-0 font-weight-bold text-primary\">Papel/Carton - Nivel de\n                                                Llenado:  <b-badge pill variant=\"primary\">{{ levelpaper}} %</b-badge>\n                                            </h6>\n                                        </div>\n                                        <!-- Card Body -->\n                                        <div class=\"card-body\">\n                                            <div class=\"chart-pie pt-4\">\n                                                <levelChart :width=\"250\" :height=\"250\" v-if=\"loaded\"\n                                                            :chart-data=\"datacollection[0]\">\n                                                </levelChart>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </b-col>\n\n                                \n\n                               \n                            </b-row>\n                        </div>\n                    </div>\n                </b-col>\n            </b-row>\n        </b-container>\n    </div>\n\n</template>\n\n<script>\nimport levelChart from '../components/donutChart';\nimport axios from 'axios';\nimport mapboxgl from \"mapbox-gl\";\n\nexport default {\n    components:{\n        levelChart\n    },\n    data (){\n        return {\n            userlogged: JSON.parse(localStorage.getItem('userdata')),\n            datacollection: [],\n            loaded: false,\n            tempValue: null,\n            humValue: null,\n            levelplastic: null,\n            levelmetal: null,\n            levelpaper: null,\n            selected: null,\n            titlebin: null,\n            updatetime:null,\n            listAvailableBins: [ ],\n            accessToken: 'pk.eyJ1IjoiYW50aG9ueXNha2EiLCJhIjoiY2tnbjBrZWR4MGkwNDJ0cGczb2UxNTE4YiJ9.WsEmhirejFVApuNz9Ivtlw',\n        }\n    },\n    methods: {\n        async getLastValues(){\n            if(this.selected != null) {\n                try {\n               \n                \n                this.titlebin = this.selected.split(\" \").[0]\n                var res = await axios.get('http://localhost:5000/gomibako/internalapi/1.0/bindata',{ params: {namebin: this.selected.split(\" \").[0] }});\n                var data = res.data;\n                this.updatetime = data.created_date;\n                this.levelplastic = data.data_sensor.lvlPlastic;\n                this.levelmetal = data.data_sensor.lvlMedal;\n                this.levelpaper = data.data_sensor.lvlPaper;\n                this.datacollection = [{\n                    labels: ['Nivel de llenado'],\n                    \n                    datasets: [{\n                        label: 'Data One',\n                        backgroundColor: ['#2e59d9', \"#ffffff\"],\n                        hoverBackgroundColor: ['#2e59d9','#ffffff'],\n                        borderColor:['#2e59d9', \"#ffffff\"],\n                        hoverBorderColor: [\"#070707\",\"#070707\"],\n                        data: [data.data_sensor.lvlPlastic, 100 - data.data_sensor.lvlPlastic]\n                }],\n                },{\n                    labels: ['Nivel de llenado'],\n                    datasets: [{\n                        label: 'Data One',\n                        backgroundColor: ['#2e59d9', \"#ffffff\"],\n                        hoverBackgroundColor: ['#2e59d9','#ffffff'],\n                        borderColor:['#2e59d9', \"#ffffff\"],\n                        hoverBorderColor: [\"#070707\",\"#070707\"],\n                        data: [data.data_sensor.lvlMedal, 100 - data.data_sensor.lvlMedal]\n                }],\n                },{\n                    labels: ['Nivel de llenado'],\n                    datasets: [{\n                        label: 'Data One',\n                        backgroundColor: ['#2e59d9', \"#ffffff\"],\n                        hoverBackgroundColor: ['#2e59d9','#ffffff'],\n                        borderColor:['#2e59d9', \"#ffffff\"],\n                        hoverBorderColor: [\"#070707\",\"#070707\"],\n                        data: [data.data_sensor.lvlPaper, 100 - data.data_sensor.lvlPaper]\n                }],\n                }\n                ];\n                this.tempValue = data.data_sensor.temperature;\n                this.humValue = data.data_sensor.humidity;\n               \n                \n                this.loaded = true;\n            } catch (error) {\n                console.error(error);\n            }       \n\n            }\n            \n        },\n        async loadAvailableBins(){\n            try {\n                console.log(this.userlogged.rnc_org)\n                var res = await axios.get('http://localhost:5000/gomibako/internalapi/1.0/dustbin/1',{ params: {rncComp: this.userlogged.rnc_org }});\n\n                for (var i = 0; i < res.data.length; i++) {\n                    this.listAvailableBins.push(res.data[i].name + \" - \" + res.data[i].type)        \n                }\n                console.log(res.status)\n            } catch (error) {\n                console.log(error)\n            }\n        }\n    },\n    mounted(){\n        this.getLastValues()\n        setInterval(this.getLastValues, 5000)\n\n        this.loadAvailableBins()\n\n        mapboxgl.accessToken = this.accessToken;\n\n            new mapboxgl.Map({\n                container: \"map\",\n                style: \"mapbox://styles/mapbox/streets-v11\",\n                center: [-70.703692, 19.415888],\n                zoom: 12,\n            });\n    }\n}\n\n</script>\n\n<style>\n    @import '../assets/styles/main.css';\n</style>"]}]}