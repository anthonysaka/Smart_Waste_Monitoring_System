{"remainingRequest":"/home/anthonysaka/Desktop/gomibako/node_modules/babel-loader/lib/index.js!/home/anthonysaka/Desktop/gomibako/src/store/index.js","dependencies":[{"path":"/home/anthonysaka/Desktop/gomibako/src/store/index.js","mtime":1604979830645},{"path":"/home/anthonysaka/Desktop/gomibako/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/anthonysaka/Desktop/gomibako/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2FudGhvbnlzYWthL0Rlc2t0b3AvZ29taWJha28vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWV4IGZyb20gJ3Z1ZXgnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwpWdWUudXNlKFZ1ZXgpOwpleHBvcnQgZGVmYXVsdCBuZXcgVnVleC5TdG9yZSh7CiAgc3RhdGU6IHsKICAgIHN0YXR1czogJycsCiAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykgfHwgJycsCiAgICB1c2VyOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcmRhdGEnKSB8fCAnJwogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBhdXRoX3JlcXVlc3Q6IGZ1bmN0aW9uIGF1dGhfcmVxdWVzdChzdGF0ZSkgewogICAgICBzdGF0ZS5zdGF0dXMgPSAnbG9hZGluZyc7CiAgICB9LAogICAgYXV0aF9zdWNjZXNzOiBmdW5jdGlvbiBhdXRoX3N1Y2Nlc3Moc3RhdGUsIHRva2VuLCB1c2VyKSB7CiAgICAgIGNvbnNvbGUubG9nKHVzZXIpOwogICAgICBzdGF0ZS5zdGF0dXMgPSAnc3VjY2Vzcyc7CiAgICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgICAgIHN0YXRlLnVzZXIgPSB1c2VyOwogICAgfSwKICAgIGF1dGhfZXJyb3I6IGZ1bmN0aW9uIGF1dGhfZXJyb3Ioc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzID0gJ2Vycm9yJzsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChzdGF0ZSkgewogICAgICBzdGF0ZS5zdGF0dXMgPSAnJzsKICAgICAgc3RhdGUudG9rZW4gPSAnJzsKICAgICAgc3RhdGUudXNlciA9ICcnOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYsIHVzZXIpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICByZXR1cm4gbmV3IFByb21pc2UoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBjb21taXQoJ2F1dGhfcmVxdWVzdCcpOwogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zKHsKICAgICAgICAgICAgICAgICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjUwMDAvZ29taWJha28vaW50ZXJuYWxhcGkvMS4wL2xvZ2luJywKICAgICAgICAgICAgICAgICAgICBkYXRhOiB1c2VyLAogICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnCiAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgICAgICAgICAgICB2YXIgdG9rZW4gPSByZXNwLmRhdGEudG9rZW47CiAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXJyID0gcmVzcC5kYXRhLnVzZXJbMF07CiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJkYXRhJywgSlNPTi5zdHJpbmdpZnkodXNlcnIpKTsKICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCB0b2tlbik7CiAgICAgICAgICAgICAgICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9IHRva2VuOwogICAgICAgICAgICAgICAgICAgIGNvbW1pdCgnYXV0aF9zdWNjZXNzJywgdG9rZW4sIHVzZXJyKTsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3ApOwogICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgY29tbWl0KCdhdXRoX2Vycm9yJyk7CiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXJkYXRhJyk7CiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJyk7CiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7CiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICB9KSk7CgogICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gsIF94MikgewogICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKTsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChfcmVmMykgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGNvbW1pdCgnbG9nb3V0Jyk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJyk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXJkYXRhJyk7CiAgICAgICAgZGVsZXRlIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ107CiAgICAgICAgcmVzb2x2ZSgpOwogICAgICB9KTsKICAgIH0KICB9LAogIGdldHRlcnM6IHsKICAgIGlzTG9nZ2VkSW46IGZ1bmN0aW9uIGlzTG9nZ2VkSW4oc3RhdGUpIHsKICAgICAgcmV0dXJuICEhc3RhdGUudG9rZW47CiAgICB9LAogICAgYXV0aFN0YXR1czogZnVuY3Rpb24gYXV0aFN0YXR1cyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuc3RhdHVzOwogICAgfSwKICAgIHVzZXJMb2dnZWQ6IGZ1bmN0aW9uIHVzZXJMb2dnZWQoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnVzZXI7CiAgICB9CiAgfQp9KTs="},{"version":3,"sources":["/home/anthonysaka/Desktop/gomibako/src/store/index.js"],"names":["Vue","Vuex","axios","use","Store","state","status","token","localStorage","getItem","user","mutations","auth_request","auth_success","console","log","auth_error","logout","actions","login","commit","Promise","resolve","reject","url","data","method","then","resp","userr","setItem","JSON","stringify","defaults","headers","common","catch","err","removeItem","getters","isLoggedIn","authStatus","userLogged"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport axios from 'axios'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    status: '',\n    token: localStorage.getItem('token') || '',\n    user : localStorage.getItem('userdata') || ''\n  },\n  mutations: {\n    auth_request(state){\n        state.status = 'loading'\n      },\n    auth_success(state, token, user){\n      console.log(user)\n      state.status = 'success'\n      state.token = token\n      state.user = user\n    },\n    auth_error(state){\n      state.status = 'error'\n    },\n    logout(state){\n      state.status = ''\n      state.token = ''\n      state.user = ''\n    },\n\n  },\n  actions: {\n    login({commit}, user){\n        return new Promise(async(resolve, reject) => {\n          commit('auth_request'),\n          await axios({url: 'http://localhost:5000/gomibako/internalapi/1.0/login', data: user, method: 'POST' })\n          .then(resp => {\n            const token = resp.data.token\n            const userr = resp.data.user[0]\n            localStorage.setItem('userdata', JSON.stringify(userr))\n            localStorage.setItem('token', token)\n            axios.defaults.headers.common['Authorization'] = token\n            commit('auth_success', token, userr)\n            resolve(resp)\n          })\n          .catch(err => {\n            commit('auth_error')\n            localStorage.removeItem('userdata')\n            localStorage.removeItem('token')\n            reject(err)\n          })\n        })\n    },\n    logout({commit}){\n        return new Promise((resolve, reject) => {\n          commit('logout')\n          localStorage.removeItem('token')\n          localStorage.removeItem('userdata')\n          delete axios.defaults.headers.common['Authorization']\n          resolve()\n        })\n    }\n  },\n  getters : {\n    isLoggedIn: state => !!state.token,\n    authStatus: state => state.status,\n    userLogged: state => state.user,\n\n  }\n})"]}]}